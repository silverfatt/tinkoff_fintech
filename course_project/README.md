# Курсовой проект: Браузерная стратегия

## Запуск (при помощи Docker)

1) Ввести в терминал `make build` - только перед первым запуском после установки

2) Ввести в терминал `make up`

3) Перейти по ссылке http://127.0.0.1/docs

## Задача

Необходимо реализовать бэкэнд для браузерной многопользовательской игры-стратегии.

- Необходима регистрация. Все игровые действия - только после аутентификации.

- Каждый игрок обладает своей "базой", на которой должны быть 5 построек - главный штаб, склад для ресурсов, оборонительная вышка, добытчик денег и добытчик еды.

    - Максимальный уровень постройки - 5

    - От штаба зависит максимальный уровень армии, от склада - вместимость ресурсов, от добытчиков - скорость добычи ресурсов, вышка помогает в обороне.

- Игрок может нанимать армию, улучшать базу.

    - Уровень солдат ограничен текущим уровнем штаба (т. е. максимальный - 5).

    - Чем выше уровень - тем сильнее солдат.

     - На содержание солдат должны уходить ресурсы.

- Игрок может напасть на другого игрока, должна быть реализована система рейтинга для баланса (чтобы сильные игроки не могли атаковать новичков, а самонадеянные новички не потеряли всю армию в первом же бою).

    - Чтобы не было ситуаций, когда игрок из-за слишком высокого (низкого) рейтинга не может ни на кого напасть, следует добавить ботов разных уровней и возможность нападать на них для повышения рейтинга и получения ресурсов.

    - При победе нападающий должен повышать свой рейтинг и забирать часть ресурсов у побеждённого, рейтинг защитника падает.

    - При поражении нападающий теряет всю армию и часть рейтинга, защитник, наоборот, повышает рейтинг.

    - В бою для определения победы должны сопоставляться мощи армий игроков, у защитника также учитывается мощь оборонительной вышки (т.е., если армии идентичны, защитник победит, так как у него кроме армии есть вышка).


- Прибыль от добытчиков и расходы на армию должны считаться и отражаться на запасах игрока в реальном времени (каждые 10 секунд). Для этого можно использовать отдельный поток.

- Должна быть предусмотрена возможность объединения игроков в гильдии.

    - В пределах гильдии игроки могут отправлять друг другу ресурсы и армии.

    - У гильдии должен быть лидер, который может исключать игроков.

    - Лидером автоматически становится создатель гильдии (создание - платное).

    - Остальные игроки, которые зашли в гильдию позже, становятся её обычными членами.

    - При желании лидер может передать лидерство другому игроку.

    - Должна быть возможность покинуть гильдию. Если её покидает лидер - она расформировывается.

    - Для коммуникаций/запросов о помощи необходим чат/доска объявлений гильдии, куда члены могут писать сообщения.

- Необходимо спроектировать БД, в которой хранить показатели зданий и солдат, данные об игроках, истории сражений, сообщения гильдий.

## Используемые технологии

- Для реализации бэкэнда используется FastAPI

- В качестве базы данных используется SQLite.

- Для работы с БД используется sqlalchemy

Все эти технологии использовались мною раннее в течение курса, и я хорошо их освоил, на мой взгляд они довольно удобные для решения поставленной задачи.

